<%= link_to 'books', books_path %> |
<%= link_to 'authors', authors_path %>
<p><button id="btn_all">All books</button>  <button id="btn_management">Management</button>  <button id="btn_fantasy">Fantasy</button></p>

<div id="all">
  <table>
    <thead>
      <tr>
        <td><strong>title</strong></td>
        <td><strong>category</strong></td>
        <td><strong>author</strong></td>
      </tr>
    </thead>
    <tbody>
      <% @books.each do |book| %>
        <tr>
          <td><%= link_to "#{book.title}", book %></td>
          <td><%= book.category %></td>
          <td>
            <% book.authors.each do |author| %>
              <%= link_to "#{author.name}", author %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div id="management">
  <table>
    <thead>
      <tr>
        <td><strong>title</strong></td>
        <td><strong>category</strong></td>
        <td><strong>author</strong></td>
      </tr>
    </thead>
    <tbody>
      <% @books.management.each do |book| %>
        <tr>
          <td><%= link_to "#{book.title}", book %></td>
          <td><%= book.category %></td>
          <td>
            <% book.authors.each do |author| %>
              <%= link_to "#{author.name}", author %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div id="fantasy" display="none">
  <table>
    <thead>
      <tr>
        <td><strong>title</strong></td>
        <td><strong>category</strong></td>
        <td><strong>author</strong></td>
      </tr>
    </thead>
    <tbody>
      <% @books.fantasy.each do |book| %>
        <tr>
          <td><%= link_to "#{book.title}", book %></td>
          <td><%= book.category %></td>
          <td>
            <% book.authors.each do |author| %>
              <%= link_to "#{author.name}", author %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<style>
  td {
    width: 150px;
  }
</style>

<%= javascript_pack_tag 'books_category', 'data-turbolinks-track': 'reload' %>